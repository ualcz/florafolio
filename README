# User Management API

Esta API REST fornece funcionalidades de gerenciamento de usu√°rios, incluindo registro, autentica√ß√£o, busca, atualiza√ß√£o e exclus√£o de usu√°rios.

## ÔøΩ Requisitos

- Java 17+
- Maven
- PostgreSQL

## üõ† Configura√ß√£o

1. Renomeie `application-example.properties` para `application.properties`
2. Configure as vari√°veis de ambiente:

```properties
server.port=8080
spring.application.name=login-api

spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}

jwt.secret=${JWT_SECRET}
```

## üöÄ Executando a API

```bash
mvnw.cmd spring-boot:run
```

## üìö Endpoints

### POST /register
Registra um novo usu√°rio

**Request Body:**
```json
{
  "username": "string",
  "password": "string",
  "email": "string"
}
```

**Responses:**
- 201 Created: Usu√°rio registrado com sucesso
- 400 Bad Request: Campos obrigat√≥rios faltando
- 409 Conflict: Nome de usu√°rio j√° existe

### POST /login
Autentica um usu√°rio

**Request Body:**
```json
{
  "username": "string",
  "password": "string"
}
```

**Responses:**
- 200 OK: Login bem-sucedido
- 401 Unauthorized: Credenciais inv√°lidas

### GET /users
Lista todos os usu√°rios

**Responses:**
- 200 OK: Lista de usu√°rios

### GET /users/{username}
Busca um usu√°rio pelo nome de usu√°rio

**Responses:**
- 200 OK: Dados do usu√°rio
- 404 Not Found: Usu√°rio n√£o encontrado

### PUT /users/id/{id}/username
Atualiza o nome de usu√°rio

**Request Body:**
```json
{
  "currentUsername": "string",
  "newUsername": "string"
}
```

**Responses:**
- 200 OK: Nome de usu√°rio atualizado
- 400 Bad Request: Campos obrigat√≥rios faltando
- 404 Not Found: Usu√°rio n√£o encontrado

### PUT /users/id/{id}/password
Atualiza a senha do usu√°rio

**Request Body:**
```json
{
  "newPassword": "string"
}
```

**Responses:**
- 200 OK: Senha atualizada
- 404 Not Found: Usu√°rio n√£o encontrado

## üõ° Seguran√ßa

- Autentica√ß√£o via JWT
- Senhas criptografadas com BCrypt
- Endpoints protegidos exceto /register e /login

## üß™ Testes

Execute os testes com:
```bash
mvnw.cmd test
```